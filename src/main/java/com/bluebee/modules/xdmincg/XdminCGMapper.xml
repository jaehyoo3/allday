<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bluebee.modules.xdmincg.XdminCGMapper">

    <resultMap id="resultMapObj" type="com.bluebee.modules.xdmincg.XdminCG"></resultMap>
    
    <select id="selectList" resultMap="resultMapObj">
    	select
    		a.codeGroupSeq
    		,a.codeGroupName
    		,a.codeGroupNameEng
    		,a.codeGroupOrder
    		,a.codeGroupUseNY
			,a.codeGroupDelNY
			,a.codeGroupRegdate
			,a.codeGroupUpdate
			<include refid="basic" />
    </select>
    
    <sql id='basic'>
    	from CodeGroup a
    </sql>
    
	<insert id="insert">
		insert into CodeGroup (
			codeGroupSeq
			,codeGroupName
			,codeGroupNameEng
			,codeGroupOrder
			,codeGroupUseNY
			,codeGroupDelNY
			,codeGroupRegdate
			)
			values(
			codeGroupSeq = #{codeGroupSeq}
			,codeGroupName = #{codeGroupName}
			,codeGroupNameEng = #{codeGroupNameEng}
			,codeGroupOrder = #{codeGroupOrder}
			,codeGroupUseNY = #{codeGroupUseNY}
			,codeGroupDelNY = #{codeGroupDelNY}
			,codeGroupRegdate = now()
			)
			
		<selectKey resultType="String" keyProperty="codeGroupSeq" order="AFTER">
			select last_insert_id()
		</selectKey>
	</insert>
	
	<update id="update">
		UPDATE codeGroup
		SET	
			codeGroupName = #{codeGroupName}
			,codeGroupNameEng = #{codeGroupNameEng}
			,codeGroupOrder = #{codeGroupOrder}
			,codeGroupUseNY = #{codeGroupUseNY}
			,codeGroupDelNY = #{codeGroupDelNY}
			,codeGroupUpdate = now()
		WHERE
			codeGroupSeq = #{codeGroupSeq }
	</update>
</mapper>